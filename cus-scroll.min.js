Object.defineProperty(exports,"__esModule",{value:!0});exports["default"]=void 0;function _classCallCheck(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}function _defineProperties(b,a){for(var d=0;d<a.length;d++){var c=a[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}function _createClass(b,a,d){a&&_defineProperties(b.prototype,a);d&&_defineProperties(b,d);return b}
var _default=function(){function b(a){_classCallCheck(this,b);this.conatiner=document.querySelector(a);this.createBar();this.ctn=this.conatiner.children[0];this.setScroll();this.bar=this.conatiner.querySelector(".cus-scroll-bar span");this.barHeight=this.bar.offsetHeight;this.ctnHeight=this.ctn.offsetHeight;this.startY=0;this.mousemoveHandle=this.move.bind(this);this.mouseupHandle=this.stop.bind(this);this.init()}_createClass(b,[{key:"createBar",value:function(){var a=document.createElement("div"),
b=document.createElement("span");a.appendChild(b);a.classList.add("cus-scroll-bar");this.conatiner.appendChild(a)}},{key:"setScroll",value:function(){this.ctn.classList.add("set-cus-scroll")}},{key:"init",value:function(){this.resizeEvent();this.scrollEvent();this.dragEvent()}},{key:"resizeEvent",value:function(){this.toggleBar();window.addEventListener("resize",this.toggleBar.bind(this))}},{key:"toggleBar",value:function(){this.isOverflown(this.ctn)?this.bar.style.display="block":this.bar.style.display=
"none"}},{key:"isOverflown",value:function(a){return a.scrollHeight>a.offsetHeight}},{key:"scrollEvent",value:function(){this.ctn.addEventListener("scroll",this.scrollStart.bind(this),!1)}},{key:"scrollStart",value:function(){var a=parseInt(this.ctn.scrollTop);this.bar.style.top="".concat(a/((this.ctn.scrollHeight-this.ctnHeight)/100),"%")}},{key:"dragEvent",value:function(){this.bar.addEventListener("mousedown",this.dragStart.bind(this))}},{key:"dragStart",value:function(a){a.preventDefault();this.startY=
a.clientY-this.bar.offsetTop;window.addEventListener("mousemove",this.mousemoveHandle);window.addEventListener("mouseup",this.mouseupHandle)}},{key:"move",value:function(a){var b=this.ctn.scrollHeight-this.ctnHeight;a=a.clientY-this.startY;0>=a||a>this.ctnHeight-this.barHeight||(this.bar.style.top=a+"px",this.ctn.scrollTo(0,b*parseInt(a/(this.ctnHeight-this.barHeight)*100)/100))}},{key:"stop",value:function(){window.removeEventListener("mousemove",this.mousemoveHandle);window.removeEventListener("mouseup",
this.mouseupHandle)}}]);return b}();exports["default"]=_default;
